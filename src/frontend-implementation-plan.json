{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix Gallery static image rendering and resolve frontend build configuration for deployment",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Ensure Gallery thumbnails and lightbox images reference deployed static assets that exist and are served correctly in production.",
      "acceptanceCriteria": [
        "Visiting /gallery shows a 2/3-column responsive grid where each card displays a visible image (not a blank/empty tile).",
        "Clicking/tapping any thumbnail opens the lightbox with the larger image visible.",
        "No gallery image requests return 404/failed network requests in the browser devtools when running the production build."
      ],
      "file_operations": [
        {
          "path": "frontend/src/lib/brandAssets.ts",
          "operation": "modify",
          "description": "Centralize Gallery ambience image metadata (src/alt) in BRAND_ASSETS (or additional exported constants) so GalleryPage only references known-good static assets under frontend/public/assets/generated. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/pages/GalleryPage.tsx",
          "operation": "modify",
          "description": "Replace hardcoded /assets/gallery/... Screenshot... references with the centralized gallery asset list from frontend/src/lib/brandAssets.ts, ensuring all src values point to deployed static files (e.g., /assets/generated/gallery-ambience.dim_1200x800.png and related generated files). Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/public/assets/generated/gallery-ambience.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-ambience.dim_1200x800.png)."
        },
        {
          "path": "frontend/public/assets/generated/gallery-ambience-ambience.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-ambience-ambience.dim_1200x800.png)."
        },
        {
          "path": "frontend/public/assets/generated/gallery-ambience-ambience-v2.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-ambience-ambience-v2.dim_1200x800.png)."
        },
        {
          "path": "frontend/public/assets/generated/gallery-ambience-ambience-v3.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-ambience-ambience-v3.dim_1200x800.png)."
        },
        {
          "path": "frontend/public/assets/generated/gallery-chinese.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-chinese.dim_1200x800.png)."
        },
        {
          "path": "frontend/public/assets/generated/gallery-desserts.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-desserts.dim_1200x800.png)."
        },
        {
          "path": "frontend/public/assets/generated/gallery-fast-food.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-fast-food.dim_1200x800.png)."
        },
        {
          "path": "frontend/public/assets/generated/gallery-italian.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-italian.dim_1200x800.png)."
        },
        {
          "path": "frontend/public/assets/generated/gallery-mexican.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-mexican.dim_1200x800.png)."
        },
        {
          "path": "frontend/public/assets/generated/gallery-north-indian.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-north-indian.dim_1200x800.png)."
        },
        {
          "path": "frontend/public/assets/generated/gallery-shakes.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-shakes.dim_1200x800.png)."
        },
        {
          "path": "frontend/public/assets/generated/gallery-thai.dim_1200x800.png",
          "operation": "create",
          "description": "Add/copy the static image asset so it is available in production at a stable URL (source asset: generated/gallery-thai.dim_1200x800.png)."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Harden gallery image loading against filename/path pitfalls and provide a graceful UI fallback when an image fails to load.",
      "acceptanceCriteria": [
        "Gallery image URLs used in code do not rely on unencoded spaces/special characters that can break on some static hosting paths.",
        "If any gallery image fails to load, the UI displays a visible fallback state for that tile (without breaking the grid layout)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/GalleryImage.tsx",
          "operation": "create",
          "description": "Create a small reusable image component for the Gallery that handles load errors (onError) and renders a visible fallback placeholder while preserving the tile aspect ratio and layout stability. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/pages/GalleryPage.tsx",
          "operation": "modify",
          "description": "Use the new GalleryImage component for both thumbnails and the lightbox image rendering to ensure consistent error handling; remove/avoid any references to assets with spaces/special characters in their filenames by relying on the generated asset filenames. Verify the component's usage instructions before implementing."
        },
        {
          "path": "frontend/src/lib/brandAssets.ts",
          "operation": "modify",
          "description": "Ensure the gallery asset list exclusively uses safe, deployment-friendly filenames (no spaces/special characters) and is the single source of truth for Gallery image src values. Verify the component's usage instructions before implementing."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Fix the frontend build/deployment configuration so production builds succeed and the deployed site loads with visible Gallery images.",
      "acceptanceCriteria": [
        "A clean build completes successfully in the target deployment environment (no configuration error).",
        "The deployed site loads successfully and the Gallery page images are visible in the deployed environment."
      ],
      "file_operations": [
        {
          "path": "frontend/package.json",
          "operation": "create",
          "description": "Add the missing frontend package manifest with build/dev/preview scripts and required dependencies so the deployment environment can reliably install and build the frontend."
        },
        {
          "path": "frontend/vite.config.ts",
          "operation": "create",
          "description": "Add a Vite configuration aligned with the appâ€™s routing and static asset serving needs (including a production-safe base path strategy) to prevent deployment-time configuration failures."
        },
        {
          "path": "frontend/tsconfig.json",
          "operation": "create",
          "description": "Add a TypeScript configuration compatible with the current source layout and alias usage (e.g., '@/...') so the production build does not fail due to missing/incorrect TS config."
        },
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Verify and adjust static asset references (favicon/OG images) to ensure they resolve correctly in production builds and deployments (keeping references under /assets/generated/)."
        }
      ]
    }
  ]
}